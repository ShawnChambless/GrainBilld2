angular.module("GrainBilld",["ui.router","angular-loading-bar"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/login"),e.state("login",{url:"/login",controller:"loginCtrl",templateUrl:"app/login/loginTmpl.html"}).state("home",{url:"/home",controller:"homeCtrl",templateUrl:"app/home/homeTmpl.html",resolve:{getGrain:["homeService",function(e){return e.getGrain().then(function(e){return{grain:e.data}})}],getHops:["homeService",function(e){return e.getHops().then(function(e){return{hops:e.data}})}],getYeast:["homeService",function(e){return e.getYeast().then(function(e){return{yeast:e.data}})}]}}).state("new-batch",{url:"/NewBatch",controller:"newBatchController",templateUrl:"app/newBatch/newBatchTmpl.html",resolve:{getGrain:["homeService",function(e){return e.getGrain().then(function(e){return e.data})}],getHops:["homeService",function(e){return e.getHops().then(function(e){return e.data})}],getYeast:["homeService",function(e){return e.getYeast().then(function(e){return e.data})}]}}).state("ingredientInfo",{url:"/IngredientInfo",controller:"ingredientInfoController",templateUrl:"app/ingredientInfo/ingredientInfoTmpl.html"}).state("myRecipes",{url:"/MyRecipes",controller:"myRecipesController",templateUrl:"app/myRecipes/myRecipesTmpl.html"}).state("communityRecipes",{url:"/CommunityRecipes",controller:"communityRecipesController",templateUrl:"app/CommunityRecipes/communityRecipesTmpl.html"})}]),$(document).ready(function(){var e=$("#js-mobile-menu").unbind();$("#js-navigation-menu").removeClass("show"),e.on("click",function(e){e.preventDefault(),$("#js-navigation-menu").slideToggle(function(){$("#js-navigation-menu").is(":hidden")&&$("#js-navigation-menu").removeAttr("style")})})}),angular.module("GrainBilld").controller("homeCtrl",["$scope","homeService","getGrain","getHops","getYeast",function(e,t,n,o,r){e.grain=n.grain,e.hops=o.hops,e.yeast=r.yeast}]),angular.module("GrainBilld").service("homeService",["$http","$q",function(e,t){this.getGrain=function(){return e({method:"GET",url:"http://localhost:8080/api/database/ingredients/grain"})},this.getHops=function(){return e({method:"GET",url:"http://localhost:8080/api/database/ingredients/hops"})},this.getYeast=function(){return e({method:"GET",url:"http://localhost:8080/api/database/ingredients/yeast"})}}]),angular.module("GrainBilld").controller("communityRecipesController",["$scope","communityRecipesService",function(e,t){}]),angular.module("GrainBilld").service("communityRecipesService",["$http",function(e){}]),angular.module("GrainBilld").controller("ingredientInfoController",["$scope","ingredientInfoService",function(e,t){}]),angular.module("GrainBilld").service("ingredientInfoService",["$http",function(e){}]),angular.module("GrainBilld").controller("myRecipesController",["$scope","myRecipesService",function(e,t){}]),angular.module("GrainBilld").service("myRecipesService",["$http",function(e){}]),angular.module("GrainBilld").controller("loginCtrl",["$scope","loginService","$state",function(e,t,n){e.showLogin=!0,e.showRegister=!1,e.register=function(o,r,i,a){t.register(o,r,i,a).then(function(t){e.showSuccess=!0,n.go("home")})["catch"](function(t){e.showError=!0,n.go("login")})},e.login=function(o,r){t.login(o,r).then(function(t){e.showSuccess=!0,n.go("home"),e.email="",e.password="",e.showError=!1})["catch"](function(t){e.showError=!0,console.log(t),n.go("login")})},e.getCurrentUser=function(e){t.getCurrentUser().then(function(e){currUser===user,n.go("home")})["catch"](function(e){console.log(e)})}}]),angular.module("GrainBilld").service("loginService",["$http","$q",function(e,t){var n=null;this.currentUser=function(){return n},this.getCurrentUser=function(){var o=t.defer();return e({method:"GET",url:"http://localhost:8080/api/user/"}).success(function(e){n=e,o.resolve(e)}).error(function(e){o.reject(e)}),o.promise},this.register=function(n,o,r,i){var a=t.defer();return e({method:"POST",url:"http://localhost:8080/auth/local/signup",data:{firstName:n,lastName:o,email:r,password:i}}).then(function(e){a.resolve(e.data)},function(e){a.reject(e)}),a.promise},this.login=function(o,r){var i=t.defer();return e({method:"POST",url:"http://localhost:8080/auth/local/login",data:{email:o,password:r}}).then(function(e){n=e.data,i.resolve(e.data)},function(e){i.reject(e)}),i.promise}}]),angular.module("GrainBilld").controller("newBatchController",["$scope","newBatchService","homeService","getGrain","getHops","getYeast",function(e,t,n,o,r,i){e.grain=o,e.hops=r,e.yeast=i,e.showGrainData=function(){e.showGrain=!0,e.showHops=!1,e.showYeast=!1},e.showHopsData=function(){e.showGrain=!1,e.showHops=!0,e.showYeast=!1},e.showYeastData=function(){e.showGrain=!1,e.showHops=!1,e.showYeast=!0},e.addGrainToRecipe=function(e){t.addGrainToRecipe(e)}}]),angular.module("GrainBilld").service("newBatchService",["$http",function(e){this.grainInRecipe=[],this.addGrainToRecipe=function(e){this.grainInRecipe.push({name:e}),console.log(this.grainInRecipe)}}]);